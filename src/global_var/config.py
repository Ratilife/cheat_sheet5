"""
–ú–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –ø—É—Ç—è–º–∏ –∫ —Ä–µ—Å—É—Ä—Å–∞–º.

Attributes:
    CONFIG_FILE (Path): –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (root_folder_path.json)
    ROOT_FOLDER_DATA (Dict): –°–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—É—Ç–∏ –∫ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –∏ –¥–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    FOR_PROGRAM_PATH (Optional[str]): –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ–º—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ for_program
    BOOKMARKS_PATH (Optional[str]): –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ–º—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ bookmarks

Functions:
    load_config(): –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
    update_root_folder(path): –û–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ
    get_root_folder(): –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ø–∏—é –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ
    set_for_program_path(): –í—ã—á–∏—Å–ª—è–µ—Ç –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ for_program
    get_for_program_path(): –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ for_program
    set_bookmarks(): –í—ã—á–∏—Å–ª—è–µ—Ç –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ bookmarks
    get_bookmarks(): –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ bookmarks

Note:
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—è
    - –ü—É—Ç–∏ FOR_PROGRAM_PATH –∏ BOOKMARKS_PATH –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏
    - –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON-—Ñ–∞–π–ª
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
    - –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
"""
# config.py

# ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: 01.09.2025
            # üèÜtask: –†–∞–±–æ—Ç–∞ —Å –æ–∫–Ω–æ–º –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏;
            # üèÜtask: –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∫–æ—Ç–æ—Ä–∞—è –∑–Ω–∞–µ—Ç –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–∞–ø–∫–∞ for_program –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏;

from datetime import datetime
from typing import Dict, Optional
import json
from pathlib import Path
import os


# –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–≤ –ø–∞–ø–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Ä—è–¥–æ–º —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π)
CONFIG_FILE = Path.home() / "root_folder_path.json"

# –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ
ROOT_FOLDER_DATA: Dict[str, Optional[str]] = {
    "path": None,    # –ü—É—Ç—å –∫ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ
    "date": None     # –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
}
FOR_PROGRAM_PATH:  Optional[str] = None
BOOKMARKS_PATH:  Optional[str] = None
def set_for_program_path():
    """ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø—É—Ç—å –¥–ª—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ 'for_program'.

        –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é
        `get_root_folder()` –∏ –∑–∞—Ç–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
        'for_program'. –ü–æ–ª—É—á–µ–Ω–Ω—ã–π –ø—É—Ç—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
        `FOR_PROGRAM_PATH`. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç, —á—Ç–æ —É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –µ—Å—Ç—å
        –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∏ –ª–µ–≥–∫–æ –¥–æ—Å—Ç—É–ø–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø–∞–ø–∫—É –¥–ª—è
        —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π.

        Raises:
            (–ù–µ —è–≤–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏—è get_root_folder)
    """
    global FOR_PROGRAM_PATH
    root_folder_path = get_root_folder()
    for_program_path = os.path.join(root_folder_path['path'], "for_program")
    FOR_PROGRAM_PATH = for_program_path

def get_for_program_path():
    return  FOR_PROGRAM_PATH

def set_bookmarks():
    """ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø—É—Ç—å –¥–ª—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ 'bookmarks'.

        –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é
        `get_root_folder()` –∏ –∑–∞—Ç–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
        'bookmarks'. –ü–æ–ª—É—á–µ–Ω–Ω—ã–π –ø—É—Ç—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
        `BOOKMARKS_PATH`. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç, —á—Ç–æ —É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –µ—Å—Ç—å
        –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∏ –ª–µ–≥–∫–æ –¥–æ—Å—Ç—É–ø–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø–∞–ø–∫—É –¥–ª—è
        —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∑–∞–∫–ª–∞–¥–æ–∫.

        Raises:
            (–ù–µ —è–≤–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏—è get_root_folder)
    """
    global BOOKMARKS_PATH
    root_folder_path = get_root_folder()
    bookmarks_path = os.path.join(root_folder_path['path'], "bookmarks")
    BOOKMARKS_PATH = bookmarks_path

def get_bookmarks():
    return BOOKMARKS_PATH
def load_config() -> None:
    """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

        –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`CONFIG_FILE`).
        –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–∞–π–¥–µ–Ω, –æ–Ω–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
        –∏ –æ–±–Ω–æ–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ROOT_FOLDER_DATA` –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
        –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã
        —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ñ–∞–π–ª—É) –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

        –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç `set_for_program_path()` –∏
        `set_bookmarks()` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É—Ç–µ–π –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º,
        –∏—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–µ, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞.

        Raises:
            (–ù–µ—è–≤–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏)
    """
    global ROOT_FOLDER_DATA
    if CONFIG_FILE.exists():
        try:
            with open(CONFIG_FILE, "r", encoding="utf-8") as f:
                ROOT_FOLDER_DATA.update(json.load(f))
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞: {e}")
    set_for_program_path()
    set_bookmarks()

def _save_config() -> None:
    """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Ñ–∞–π–ª.

        –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
        `ROOT_FOLDER_DATA` –≤ —Ñ–æ—Ä–º–∞—Ç JSON –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –µ–≥–æ –≤ —Ñ–∞–π–ª,
        —É–∫–∞–∑–∞–Ω–Ω—ã–π `CONFIG_FILE`. –§–∞–π–ª –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω, –µ—Å–ª–∏ –æ–Ω —É–∂–µ
        —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è —á–µ–ª–æ–≤–µ–∫–æ–º –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å
        –æ—Ç—Å—Ç—É–ø–∞–º–∏ (indent=4).

        –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ª—é–±—ã—Ö –æ—à–∏–±–æ–∫ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ –∏–ª–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∑–∞–ø–∏—Å—å), –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ
        —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

        Returns:
            None
        """
    try:
        with open(CONFIG_FILE, "w", encoding="utf-8") as f:
            json.dump(ROOT_FOLDER_DATA, f, indent=4)
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞: {e}")

def update_root_folder(path: str) -> None:
    """–û–±–Ω–æ–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ"""
    global ROOT_FOLDER_DATA
    ROOT_FOLDER_DATA["path"] = path
    ROOT_FOLDER_DATA["date"] = datetime.now().strftime("%d-%m-%Y")
    _save_config()  # –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏

def get_root_folder() -> Dict[str, Optional[str]]:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ"""
    return ROOT_FOLDER_DATA.copy()  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–ø–∏—é, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–∑–≤–Ω–µ

# –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—è
load_config()